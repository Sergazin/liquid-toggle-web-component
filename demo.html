<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liquid Toggle Web Component Demo</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background: #f5f5f5;
            color: #333;
        }
        
        .demo-container {
            background: white;
            padding: 3rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 2rem;
            color: #222;
        }
        
        .demo-item {
            margin: 2rem 0;
            padding: 1.5rem;
            background: #f9f9f9;
            border-radius: 8px;
        }
        
        .demo-item h3 {
            margin-top: 0;
            margin-bottom: 1rem;
            color: #555;
        }
        
        .demo-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .demo-label {
            font-size: 0.875rem;
            color: #666;
        }
        
        code {
            background: #e9e9e9;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.875rem;
        }
        
        .event-log {
            margin-top: 1rem;
            padding: 1rem;
            background: #222;
            color: #0f0;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.875rem;
            max-height: 150px;
            overflow-y: auto;
        }
        
        .event-log div {
            margin: 0.25rem 0;
        }
        
        .matrix-controls {
            margin-top: 1rem;
            padding: 1rem;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
        }
        
        .matrix-grid {
            margin-bottom: 1rem;
        }
        
        .matrix-row {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0.5rem 0;
            flex-wrap: wrap;
        }
        
        .matrix-row label {
            min-width: 120px;
            font-weight: 500;
            color: #333;
        }
        
        .matrix-row input[type="range"] {
            flex: 1;
            min-width: 100px;
        }
        
        .matrix-row span {
            min-width: 40px;
            text-align: center;
            font-family: monospace;
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 3px;
        }
        
        .matrix-output {
            border-top: 1px solid #eee;
            padding-top: 1rem;
        }
        
        .matrix-output pre {
            background: #f8f8f8;
            padding: 0.75rem;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.875rem;
            line-height: 1.4;
            margin: 0.5rem 0 0 0;
            border: 1px solid #e0e0e0;
        }
        
        @media (prefers-color-scheme: dark) {
            body {
                background: #1a1a1a;
                color: #e0e0e0;
            }
            
            .demo-container {
                background: #2a2a2a;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            }
            
            h1 {
                color: #f0f0f0;
            }
            
            .demo-item {
                background: #333;
            }
            
            .demo-item h3 {
                color: #ccc;
            }
            
            code {
                background: #444;
                color: #f0f0f0;
            }
            
            .matrix-controls {
                background: #333;
                border-color: #555;
            }
            
            .matrix-row label {
                color: #ccc;
            }
            
            .matrix-row span {
                background: #444;
                color: #f0f0f0;
            }
            
            .matrix-output {
                border-top-color: #555;
            }
            
            .matrix-output pre {
                background: #222;
                color: #f0f0f0;
                border-color: #555;
            }
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>Liquid Toggle Web Component</h1>
        
        <!-- Basic toggle -->
        <div class="demo-item">
            <h3>Basic Toggle</h3>
            <div class="demo-controls">
                <liquid-toggle checked></liquid-toggle>
                <span class="demo-label">Default toggle with all standard features</span>
            </div>
            <p><code>&lt;liquid-toggle&gt;&lt;/liquid-toggle&gt;</code></p>
        </div>
        
        <!-- Pre-checked toggle -->
        <div class="demo-item">
            <h3>Pre-checked Toggle</h3>
            <div class="demo-controls">
                <liquid-toggle checked checked></liquid-toggle>
                <span class="demo-label">Starts in checked state</span>
            </div>
            <p><code>&lt;liquid-toggle checked&gt;&lt;/liquid-toggle&gt;</code></p>
        </div>
        
        <!-- Different sizes -->
        <div class="demo-item">
            <h3>Different Sizes</h3>
            <div style="display: flex; flex-direction: column; gap: 1rem; align-items: flex-start;">
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <liquid-toggle checked size="xs"></liquid-toggle>
                    <span class="demo-label">Extra Small (xs) - 32x16px</span>
                </div>
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <liquid-toggle checked size="sm"></liquid-toggle>
                    <span class="demo-label">Small (sm) - 44x22px</span>
                </div>
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <liquid-toggle checked size="md"></liquid-toggle>
                    <span class="demo-label">Medium (md) - 56x28px (default)</span>
                </div>
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <liquid-toggle checked size="lg"></liquid-toggle>
                    <span class="demo-label">Large (lg) - 68x34px</span>
                </div>
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <liquid-toggle checked size="xl"></liquid-toggle>
                    <span class="demo-label">Extra Large (xl) - 80x40px</span>
                </div>
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <liquid-toggle checked size="2xl"></liquid-toggle>
                    <span class="demo-label">2X Large (2xl) - 92x46px</span>
                </div>
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <liquid-toggle checked size="3xl"></liquid-toggle>
                    <span class="demo-label">3X Large (3xl) - 104x52px</span>
                </div>
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <liquid-toggle checked size="4xl"></liquid-toggle>
                    <span class="demo-label">4X Large (4xl) - 116x58px</span>
                </div>
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <liquid-toggle checked size="5xl"></liquid-toggle>
                    <span class="demo-label">5X Large (5xl) - 128x64px</span>
                </div>
            </div>
            <p><code>&lt;liquid-toggle size="lg"&gt;&lt;/liquid-toggle&gt;</code></p>
        </div>
        
        <!-- Custom color -->
        <div class="demo-item">
            <h3>Custom Color</h3>
            <div class="demo-controls">
                <liquid-toggle checked color="#ff6b6b"></liquid-toggle>
                <span class="demo-label">Custom checked state color</span>
            </div>
            <p><code>&lt;liquid-toggle color="#ff6b6b"&gt;&lt;/liquid-toggle&gt;</code></p>
        </div>
        
        
        <!-- Disabled state -->
        <div class="demo-item">
            <h3>Disabled State</h3>
            <div class="demo-controls">
                <liquid-toggle checked disabled checked></liquid-toggle>
                <span class="demo-label">Non-interactive disabled toggle</span>
            </div>
            <p><code>&lt;liquid-toggle disabled checked&gt;&lt;/liquid-toggle&gt;</code></p>
        </div>
        
        <!-- Event handling -->
        <div class="demo-item">
            <h3>Event Handling</h3>
            <div class="demo-controls">
                <liquid-toggle checked id="event-toggle"></liquid-toggle>
                <span class="demo-label">Check the event log below</span>
            </div>
            <div class="event-log" id="event-log">
                <div>Event log ready...</div>
            </div>
        </div>
        
        <!-- Programmatic control -->
        <div class="demo-item">
            <h3>Programmatic Control</h3>
            <div class="demo-controls">
                <liquid-toggle checked id="controlled-toggle"></liquid-toggle>
                <button onclick="toggleProgrammatically()">Toggle via JS</button>
                <button onclick="setChecked(true)">Set Checked</button>
                <button onclick="setChecked(false)">Set Unchecked</button>
            </div>
        </div>
        
        <!-- Developer Controls for feColorMatrix -->
        <div class="demo-item">
            <h3>Developer Controls - feColorMatrix Values</h3>
            <div class="demo-controls">
                <liquid-toggle checked id="matrix-toggle" ></liquid-toggle>
                <span class="demo-label">Live adjustment of SVG filter matrix</span>
            </div>
            
            <div class="matrix-controls">
                <div class="matrix-grid">
                    <div class="matrix-row">
                        <label>Row 4 (Alpha): </label>
                        <input type="range" id="alpha-multiplier" min="1" max="20" step="0.1" value="10">
                        <span id="alpha-value">10</span>
                        <input type="range" id="alpha-offset" min="-20" max="0" step="0.1" value="-10">
                        <span id="offset-value">-10</span>
                    </div>
                </div>
                <div class="matrix-output">
                    <strong>Current Matrix Values:</strong>
                    <pre id="matrix-display">1 0 0 0 0
0 1 0 0 0
0 0 1 0 0
0 0 0 10 -10</pre>
                </div>
            </div>
        </div>
    </div>
    
    <script type="module">
        import './liquid-toggle-web-component.js';
        
        // Event handling demo
        const event_toggle = document.getElementById('event-toggle');
        const event_log = document.getElementById('event-log');
        let event_count = 0;
        
        event_toggle.addEventListener('change', (e) => {
            event_count++;
            const timestamp = new Date().toLocaleTimeString();
            const log_entry = document.createElement('div');
            log_entry.textContent = `[${timestamp}] Change event #${event_count}: checked = ${e.detail.checked}`;
            event_log.appendChild(log_entry);
            event_log.scrollTop = event_log.scrollHeight;
        });
        
        // Programmatic control functions
        window.toggleProgrammatically = function() {
            const toggle = document.getElementById('controlled-toggle');
            toggle.checked = !toggle.checked;
        };
        
        window.setChecked = function(checked) {
            const toggle = document.getElementById('controlled-toggle');
            toggle.checked = checked;
        };
        
        // Matrix controls functionality
        const matrixToggle = document.getElementById('matrix-toggle');
        const alphaMultiplier = document.getElementById('alpha-multiplier');
        const alphaOffset = document.getElementById('alpha-offset');
        const alphaValue = document.getElementById('alpha-value');
        const offsetValue = document.getElementById('offset-value');
        const matrixDisplay = document.getElementById('matrix-display');
        
        function updateMatrix() {
            const alpha = parseFloat(alphaMultiplier.value);
            const offset = parseFloat(alphaOffset.value);
            
            // Update display values
            alphaValue.textContent = alpha.toFixed(1);
            offsetValue.textContent = offset.toFixed(1);
            
            // Update matrix display
            const matrixValues = `1 0 0 0 0
0 1 0 0 0
0 0 1 0 0
0 0 0 ${alpha} ${offset}`;
            matrixDisplay.textContent = matrixValues;
            
            // Update the actual feColorMatrix in the component
            const gooMatrix = matrixToggle.shadowRoot.querySelector('#goo feColorMatrix');
            if (gooMatrix) {
                gooMatrix.setAttribute('values', matrixValues);
            }
        }
        
        // Add event listeners for the matrix controls
        alphaMultiplier.addEventListener('input', updateMatrix);
        alphaOffset.addEventListener('input', updateMatrix);
        
        // Initialize the matrix display
        updateMatrix();
    </script>
</body>
</html>
